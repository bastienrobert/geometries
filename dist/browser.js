!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((t=t||self).Geometries={})}(this,function(t){"use strict";var i=function(){function t(t){var i=void 0===t?{}:t,s=i.width,h=void 0===s?1:s,e=i.height,n=void 0===e?1:e,r=i.widthSegments,a=void 0===r?1:r,o=i.heightSegments,d=void 0===o?1:o;this.width=h,this.height=n,this.widthSegments=Math.floor(a),this.heightSegments=Math.floor(d),this.vertices=[],this.uvs=[],this.normals=[],this.indices=[],this.generate()}return t.prototype.generate=function(){var i=t.compute("x","y","z",1,-1,this.width,this.height,0,this.widthSegments,this.heightSegments),s=i.vertices,h=i.indices,e=i.normals,n=i.uvs;this.vertices=s,this.indices=h,this.normals=e,this.uvs=n},t.compute=function(t,i,s,h,e,n,r,a,o,d,g){void 0===g&&(g=0);for(var u=[],c=[],m=[],v=[],f=n/o,p=r/d,l={},S=0;S<=d;++S)for(var M=S*p-r/2,w=0;w<=o;++w){var b=w*f-n/2;l[t]=b*h,l[i]=M*e,l[s]=a/2,u.push(l.x,l.y,l.z),l[t]=0,l[i]=0,l[s]=a>0?1:-1,m.push(l.x,l.y,l.z),v.push(w/o),v.push(1-S/d)}for(S=0;S<d;++S)for(w=0;w<o;++w){var y=g+w+(o+1)*S,x=g+w+(o+1)*(S+1),_=g+w+1+(o+1)*(S+1),T=g+w+1+(o+1)*S;c.push(y,x,T),c.push(x,_,T)}return{vertices:u,normals:m,uvs:v,indices:c}},t}(),s=function(){function t(t){var i=void 0===t?{}:t,s=i.width,h=void 0===s?1:s,e=i.height,n=void 0===e?1:e,r=i.depth,a=void 0===r?1:r,o=i.widthSegments,d=void 0===o?1:o,g=i.heightSegments,u=void 0===g?1:g,c=i.depthSegments,m=void 0===c?1:c;this.width=h,this.height=n,this.depth=a,this.widthSegments=Math.floor(d),this.heightSegments=Math.floor(u),this.depthSegments=Math.floor(m),this.faces={},this.vertices=[],this.indices=[],this.normals=[],this.uvs=[],this.generate()}return t.prototype.generate=function(){var t=0;for(var s in this.faces.left=i.compute("z","y","x",-1,-1,this.depth,this.height,this.width,this.depthSegments,this.heightSegments,t),t+=this.faces.left.vertices.length/3,this.faces.right=i.compute("z","y","x",1,-1,this.depth,this.height,-this.width,this.depthSegments,this.heightSegments,t),t+=this.faces.right.vertices.length/3,this.faces.top=i.compute("x","z","y",1,1,this.width,this.depth,this.height,this.widthSegments,this.depthSegments,t),t+=this.faces.top.vertices.length/3,this.faces.bottom=i.compute("x","z","y",1,-1,this.width,this.depth,-this.height,this.widthSegments,this.depthSegments,t),t+=this.faces.bottom.vertices.length/3,this.faces.front=i.compute("x","y","z",-1,-1,this.width,this.height,-this.depth,this.widthSegments,this.heightSegments,t),t+=this.faces.front.vertices.length/3,this.faces.back=i.compute("x","y","z",1,-1,this.width,this.height,this.depth,this.widthSegments,this.heightSegments,t),t+=this.faces.back.vertices.length/3,this.faces){var h=this.faces[s],e=h.vertices,n=h.indices,r=h.normals,a=h.uvs;this.vertices=this.vertices.concat(e),this.indices=this.indices.concat(n),this.normals=this.normals.concat(r),this.uvs=this.uvs.concat(a)}},t}(),h=function(){function t(t){var i=void 0===t?{}:t,s=i.radius,h=void 0===s?1:s,e=i.widthSegments,n=void 0===e?10:e,r=i.heightSegments,a=void 0===r?10:r;this.widthSegments=Math.floor(n),this.heightSegments=Math.floor(a),this.radius=h,this.vertices=[],this.indices=[],this.normals=[],this.uvs=[],this.generate()}return t.prototype.generate=function(){for(var t=0;t<=this.widthSegments;++t)for(var i=t*Math.PI/this.widthSegments,s=Math.sin(i),h=Math.cos(i),e=0;e<=this.heightSegments;++e){var n=2*e*Math.PI/this.heightSegments,r=Math.sin(n),a=Math.cos(n)*s,o=h,d=r*s,g=1-e/this.heightSegments,u=1-t/this.widthSegments;this.vertices.push(this.radius*a,this.radius*o,this.radius*d),this.normals.push(a,o,d),this.uvs.push(g,u)}for(t=0;t<this.widthSegments;++t)for(e=0;e<this.heightSegments;++e){var c=t*(this.heightSegments+1)+e,m=c+this.heightSegments+1;this.indices.push(m,c,c+1,m+1,m,c+1)}},t}();function e(t){var i=[],s=t[0],h=t[1],e=t[2],n=s*s+h*h+e*e;return n>0&&(n=1/Math.sqrt(n)),i[0]=s*n,i[1]=h*n,i[2]=e*n,i}function n(t,i){var s=[];return s[0]=t[0]-i[0],s[1]=t[1]-i[1],s[2]=t[2]-i[2],s}var r=function(){function t(t){var i=void 0===t?{}:t,s=i.radiusTop,h=void 0===s?.5:s,e=i.radiusBottom,n=void 0===e?.5:e,r=i.height,a=void 0===r?1.5:r,o=i.radialSegments,d=void 0===o?8:o,g=i.heightSegments,u=void 0===g?1:g,c=i.openEnded,m=void 0!==c&&c,v=i.thetaLength,f=void 0===v?2*Math.PI:v;this.radiusTop=h,this.radiusBottom=n,this.height=a,this.radialSegments=Math.floor(d),this.heightSegments=Math.floor(u),this.openEnded=m,this.thetaLength=f,this.vertices=[],this.indices=[],this.normals=[],this.uvs=[],this._index=0,this._halfHeight=this.height/2,this.generate()}return t.prototype.generate=function(){this.generateTorso(),this.openEnded||(this.radiusTop>0&&this.generateCap(this.radiusTop,1),this.radiusBottom>0&&this.generateCap(this.radiusBottom,-1))},t.prototype.generateTorso=function(){for(var t=(this.radiusBottom-this.radiusTop)/this.height,i=[],s=0;s<=this.heightSegments;++s){for(var h=[],n=s/this.heightSegments,r=n*(this.radiusBottom-this.radiusTop)+this.radiusTop,a=0;a<=this.radialSegments;++a){var o=a/this.radialSegments,d=o*this.thetaLength,g=Math.sin(d),u=Math.cos(d);this.vertices.push(r*g,-n*this.height+this._halfHeight,r*u),this.normals=this.normals.concat(e([g,t,u])),this.uvs.push(o,1-n),h.push(this._index++)}i.push(h)}for(a=0;a<this.radialSegments;++a)for(s=0;s<this.heightSegments;++s){var c=i[s][a],m=i[s+1][a],v=i[s+1][a+1],f=i[s][a+1];this.indices.push(c,m,f),this.indices.push(m,v,f)}},t.prototype.generateCap=function(t,i){for(var s=this._index,h=0;h<=this.radialSegments;++h)this.vertices.push(0,this._halfHeight*i,0),this.normals.push(0,i,0),this.uvs.push(.5,.5),this._index++;var e=this._index;for(h=0;h<=this.radialSegments;++h){var n=h/this.radialSegments*this.thetaLength,r=Math.cos(n),a=Math.sin(n);this.vertices.push(t*a,this._halfHeight*i,t*r),this.normals.push(0,i,0),this.uvs.push(.5*r+.5,.5*a*i+.5),this._index++}for(h=0;h<this.radialSegments;++h){var o=s+h,d=e+h;i>0?this.indices.push(d,d+1,o):this.indices.push(d+1,d,o)}},t}(),a=function(){function t(t){var i=void 0===t?{}:t,s=i.radius,h=void 0===s?1.5:s,e=i.tube,n=void 0===e?.5:e,r=i.radialSegments,a=void 0===r?10:r,o=i.tubularSegments,d=void 0===o?100:o,g=i.arc,u=void 0===g?2*Math.PI:g;this.radius=h,this.tube=n,this.radialSegments=Math.floor(a),this.tubularSegments=Math.floor(d),this.arc=u,this.vertices=[],this.indices=[],this.normals=[],this.uvs=[],this.generate()}return t.prototype.generate=function(){for(var t=0;t<=this.radialSegments;++t)for(var i=0;i<=this.tubularSegments;++i){var s=i/this.tubularSegments*this.arc,h=t/this.radialSegments*Math.PI*2,r=[(this.radius+this.tube*Math.cos(h))*Math.cos(s),(this.radius+this.tube*Math.cos(h))*Math.sin(s),this.tube*Math.sin(h)];this.vertices=this.vertices.concat(r);var a=e(n(r,[this.radius*Math.cos(s),this.radius*Math.sin(s),0]));this.normals=this.normals.concat(a),this.uvs.push(i/this.tubularSegments,t/this.radialSegments)}for(t=1;t<=this.radialSegments;++t)for(i=1;i<=this.tubularSegments;++i){var o=(this.tubularSegments+1)*t+i-1,d=(this.tubularSegments+1)*(t-1)+i-1,g=(this.tubularSegments+1)*(t-1)+i,u=(this.tubularSegments+1)*t+i;this.indices.push(o,d,u),this.indices.push(d,g,u)}},t}();t.Box=s,t.Cylinder=r,t.Plane=i,t.Sphere=h,t.Torrus=a,Object.defineProperty(t,"__esModule",{value:!0})});
